<!DOCTYPE html>
<html>
<head>
  <title>Hospital Onboarding</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body { font-family:Arial; background:#f4f6f8; padding:20px; }
    .card { background:#fff; padding:20px; border-radius:8px; }
    input,textarea { width:100%; padding:10px; margin:10px 0; }
    button { width:100%; padding:14px; background:#007bff; color:#fff; border:none; font-size:18px; }
  </style>
</head>

<body>

<div class="card">
  <h2>Hospital Onboarding</h2>

  <input id="hname" placeholder="Hospital Name *">
  <input id="hcontact" placeholder="Hospital Contact Number *">
  <textarea id="haddress" placeholder="Hospital Address *"></textarea>

  <button onclick="createLink()">Create My Discharge Page</button>

  <div id="result" style="margin-top:20px;"></div>
</div>

<script>
const WEBAPP = "https://script.google.com/macros/s/AKfycbzz2Jp8itXd3iZdsHGFlm4bVYyRM9cQuidkYDJR8I_v4bCMvXg4cVC5vd6zW9xULpKh/exec";

function createLink(){
  if(!hname.value||!hcontact.value||!haddress.value){
    alert("Fill all mandatory fields"); return;
  }
  const hid="HSP"+Date.now();

  fetch(WEBAPP,{
    method:"POST",
    body:JSON.stringify({
      hid:hid,
      name:hname.value,
      contact:hcontact.value,
      address:haddress.value
    })
  });

  const link="https://janswasthyaseva.github.io/jss-discharge/?hid="+hid;
  result.innerHTML=`<b>Your Discharge Page:</b><br><a href="${link}" target="_blank">${link}</a><br><br>Please bookmark this link.`;
}
</script>

</body>
</html>
